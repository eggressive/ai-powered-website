# Security Configuration for pnpm
# Protection against Shai-Hulud 2.0 and similar supply chain attacks

# ============================================================================
# CRITICAL SECURITY SETTINGS
# ============================================================================

# Disable all install scripts (preinstall, postinstall, etc.)
# This prevents malicious scripts from executing during package installation
# This is the PRIMARY defense against Shai-Hulud 2.0
ignore-scripts=true

# Use exact versions in package.json (removes ^ and ~)
# Prevents automatic updates that could introduce compromised versions
save-exact=true

# Strict SSL verification
# Prevents man-in-the-middle attacks during package downloads
strict-ssl=true

# Use official npm registry
# Ensures packages are downloaded from the legitimate source
registry=https://registry.npmjs.org/

# ============================================================================
# SECURITY NOTES
# ============================================================================

# pnpm automatically:
# - Uses pnpm-lock.yaml for reproducible installs
# - Verifies package integrity using checksums in the lock file
# - Stores packages in a content-addressable store to prevent tampering

# To run security audits manually:
#   pnpm audit
#   pnpm audit --fix

# To update dependencies safely:
#   pnpm update --latest --interactive

# ============================================================================
# REMOVED OPTIONS (not supported by pnpm)
# ============================================================================

# The following npm-specific options are NOT valid for pnpm:
# - audit=true              (use 'pnpm audit' command instead)
# - audit-level=moderate    (use command line flags instead)
# - package-lock=true       (pnpm uses pnpm-lock.yaml by default)
# - verify-signatures=true  (not a valid npm/pnpm option)
